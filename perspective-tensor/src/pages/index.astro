---
import BaseLayout from '../layouts/BaseLayout.astro';
import StructuredData from '../components/StructuredData.astro';
import SimplifiedNetworkCanvas from '../react/SimplifiedNetworkCanvas.tsx';
import { getCollection } from 'astro:content';

const posts = await getCollection('blog', ({ data }) => data.draft !== true);

// Sort posts by date (newest first)
posts.sort((a, b) => {
  const dateA = a.data.pubDate || new Date(0);
  const dateB = b.data.pubDate || new Date(0);
  return dateB.getTime() - dateA.getTime();
});

const websiteData = {
  name: "Perspective Tensor",
  description: "Personal blog exploring AI, machine learning, complexity theory, and data science through a first principles lens.",
  url: "https://perspective-tensor.dev",
  author: {
    "@type": "Person",
    name: "Lin Wang",
    url: "https://perspective-tensor.dev"
  },
  potentialAction: {
    "@type": "SearchAction",
    target: "https://perspective-tensor.dev/search?q={search_term_string}",
    "query-input": "required name=search_term_string"
  }
};
---
<BaseLayout title="Home">
  <StructuredData type="WebSite" data={websiteData} />
  <div class="py-12 md:py-16 text-center max-w-3xl mx-auto px-4">
    <section class="mb-6" transition:name="hero" transition:animate="fade">
      <SimplifiedNetworkCanvas client:load />
    </section>
    <div>
      <p class="text-base md:text-lg text-gray-500 dark:text-gray-400 leading-relaxed max-w-2xl mx-auto font-light tracking-wide text-center">
        Exploring machine learning, complexity theory, and human centricity through first principles thinking â€” <a href="/blog" class="underline underline-offset-4 decoration-gray-300 dark:decoration-gray-600 hover:decoration-gray-500 dark:hover:decoration-gray-400 transition-all duration-300 text-gray-700 dark:text-gray-200 font-medium hover:text-gray-900 dark:hover:text-gray-100">read my latest insights</a>.
      </p>


    </div>
  </div>
</BaseLayout>